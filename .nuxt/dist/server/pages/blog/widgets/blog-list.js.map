{"version":3,"file":"pages/blog/widgets/blog-list.js","sources":["webpack:///./pages/blog/widgets/blog-list.vue?64d0","webpack:///./pages/blog/widgets/blog-list.vue?5017","webpack:///./pages/blog/widgets/blog-list.vue?c0f8","webpack:///./pages/blog/widgets/blog-list.vue?403c","webpack:///blog-list.vue","webpack:///./pages/blog/widgets/blog-list.vue?5344","webpack:///./pages/blog/widgets/blog-list.vue"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blog-list.vue?vue&type=style&index=0&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"f09c0f2c\", content, true, context)\n};","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--3-oneOf-1-2!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blog-list.vue?vue&type=style&index=0&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".disabled{pointer-events:none;background-color:#d3d3d3}.active-btn{pointer-events:none;background-color:#ececee}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.bloglist),function(blog,index){return _vm._ssrNode(\"<div class=\\\"row blog-media\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.setPaginate(index)) ? '' : 'none' }))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-xl-6\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"blog-left\\\">\",\"</div>\",[_c('nuxt-link',{attrs:{\"to\":{ path: '/blog/' + blog.slug}}},[_c('img',{staticClass:\"img-fluid\",attrs:{\"src\":blog.image,\"alt\":\"\"}})])],1)]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"col-xl-6\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"blog-right\\\">\",\"</div>\",[_vm._ssrNode(\"<div>\",\"</div>\",[_vm._ssrNode(\"<h6>\"+_vm._ssrEscape(_vm._s(blog.date))+\"</h6> \"),_c('nuxt-link',{attrs:{\"to\":{ path: '/blog/' + blog.slug}}},[_c('h4',[_vm._v(_vm._s(blog.display_title))])]),_vm._ssrNode(\" <ul class=\\\"post-social\\\"><li>\"+_vm._ssrEscape(\"Posted By : \"+_vm._s(blog.author_name))+\"</li> <li><i class=\\\"fa fa-comments\\\"></i>\"+_vm._ssrEscape(\" \"+_vm._s(blog.comment_count)+\" Comment(s)\\r\\n              \")+\"</li></ul> <div>\"+(_vm._s(blog.description))+\"</div>\")],2)])])],2)}),_vm._ssrNode(\" \"+((_vm.bloglist.length > this.paginate)?(\"<div class=\\\"product-pagination border-cls-blog mb-0\\\"><div class=\\\"theme-paggination-block\\\"><div class=\\\"row\\\"><div class=\\\"col-sm-12\\\"><nav aria-label=\\\"Page navigation\\\"><ul class=\\\"pagination\\\"><li class=\\\"page-item\\\"><a href=\\\"javascript:void(0)\\\"\"+(_vm._ssrClass(\"page-link\",{'disabled' : _vm.pages[0]  == 1}))+\"><span aria-hidden=\\\"true\\\"><i aria-hidden=\\\"true\\\" class=\\\"fa fa-chevron-left\\\"></i></span></a></li> \"+(_vm._ssrList((this.pages),function(page_index,index){return (\"<li class=\\\"page-item\\\"><a href=\\\"javascrip:void(0)\\\"\"+(_vm._ssrClass(\"page-link\",{'active-btn' : page_index == _vm.current }))+\">\"+_vm._ssrEscape(_vm._s(page_index))+\"</a></li>\")}))+\" <li class=\\\"page-item\\\"><a href=\\\"javascript:void(0)\\\"\"+(_vm._ssrClass(\"page-link\",{'disabled' : _vm.pages.slice(-1)[0]  == _vm.paginates}))+\"><span aria-hidden=\\\"true\\\"><i aria-hidden=\\\"true\\\" class=\\\"fa fa-chevron-right\\\"></i></span></a></li></ul></nav></div></div></div></div>\"):\"<!---->\"))],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n<div>\r\n    <div\r\n      class=\"row blog-media\"\r\n      v-for=\"(blog,index) in bloglist\"\r\n      :key=\"index\"\r\n      v-show=\"setPaginate(index)\"\r\n    >\r\n      <div class=\"col-xl-6\">\r\n        <div class=\"blog-left\">\r\n          <nuxt-link :to=\"{ path: '/blog/' + blog.slug}\">\r\n            <img :src=\"blog.image\" class=\"img-fluid\" alt />\r\n          </nuxt-link>\r\n        </div>\r\n      </div>\r\n      <div class=\"col-xl-6\">\r\n        <div class=\"blog-right\">\r\n          <div>\r\n            <h6>{{ blog.date }}</h6>\r\n            <nuxt-link :to=\"{ path: '/blog/' + blog.slug}\">\r\n              <h4>{{blog.display_title}}</h4>\r\n            </nuxt-link>\r\n            <ul class=\"post-social\">\r\n              <li>Posted By : {{blog.author_name}}</li>\r\n              <li>\r\n                <i class=\"fa fa-comments\"></i> {{ blog.comment_count }} Comment(s)\r\n              </li>\r\n            </ul>\r\n            <div v-html=\"blog.description\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"product-pagination border-cls-blog mb-0\" v-if=\"bloglist.length > this.paginate\">\r\n      <div class=\"theme-paggination-block\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-12\">\r\n            <nav aria-label=\"Page navigation\">\r\n              <ul class=\"pagination\">\r\n                <li class=\"page-item\">\r\n                  <a class=\"page-link\" href=\"javascript:void(0)\" @click=\"updatePaginate(current-1)\" :class=\"{'disabled' : pages[0]  == 1}\">\r\n                    <span aria-hidden=\"true\">\r\n                      <i class=\"fa fa-chevron-left\" aria-hidden=\"true\"></i>\r\n                    </span>\r\n                  </a>\r\n                </li>\r\n                <li\r\n                  class=\"page-item\"\r\n                  v-for=\"(page_index, index) in this.pages\"\r\n                  :key=\"index\"\r\n\r\n                >\r\n                  <a\r\n                    class=\"page-link\"\r\n                    href=\"javascrip:void(0)\"\r\n                    :class=\"{'active-btn' : page_index == current }\"\r\n                    @click.prevent=\"updatePaginate(page_index)\"\r\n                  >{{ page_index }}</a>\r\n                </li>\r\n                <li class=\"page-item\">\r\n                  <a class=\"page-link\" href=\"javascript:void(0)\" :class=\"{'disabled' : pages.slice(-1)[0]  == paginates}\" @click=\"updatePaginate(current+1)\">\r\n                    <span aria-hidden=\"true\">\r\n                      <i class=\"fa fa-chevron-right\" aria-hidden=\"true\"></i>\r\n                    </span>\r\n                  </a>\r\n                </li>\r\n              </ul>\r\n            </nav>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from 'vuex';\r\nimport axios from 'axios';\r\nexport default {\r\n  data() {\r\n    return {\r\n      current: 1,\r\n      paginate: 6,\r\n      paginateRange: 3,\r\n      pages: [],\r\n      paginates: '',\r\n      bloglist: [],\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    bloglist: {\r\n      handler: function (after, before) {\r\n        this.getPaginate();\r\n        this.updatePaginate(1);\r\n      },\r\n      deep: true,\r\n    }\r\n  },\r\n\r\n  computed: mapState({\r\n    bloglistRaw: state => state.blog.bloglist\r\n  }),\r\n\r\n  async mounted() {\r\n    let params = {\r\n      params : {\r\n        per_page: 30\r\n      },\r\n      type: 'list'\r\n    }\r\n    this.$store.dispatch('blog/fetchBlogs', params).then( ()=>{\r\n      this.fetchCompeteData(this.bloglistRaw).then(() =>{\r\n\r\n      });\r\n    });\r\n  },\r\n  methods: {\r\n    getImgUrl(path) {\r\n      return path;\r\n    },\r\n    getPaginate() {\r\n      this.paginates = Math.round(this.bloglist.length / this.paginate)\r\n      this.pages = []\r\n      for (let i = 0; i < this.paginates; i++) {\r\n        this.pages.push(i + 1)\r\n      }\r\n    },\r\n    setPaginate(i) {\r\n      if (this.current === 1) {\r\n        return i < this.paginate\r\n      } else {\r\n        return (\r\n          i >= this.paginate * (this.current - 1) &&\r\n          i < this.current * this.paginate\r\n        )\r\n      }\r\n    },\r\n    updatePaginate(i) {\r\n      this.current = i\r\n      let start = 0\r\n      let end = 0\r\n      if (this.current < this.paginateRange - 1) {\r\n        start = 1\r\n        end = start + this.paginateRange - 1\r\n      } else {\r\n        start = this.current - 1\r\n        end = this.current + 1\r\n      }\r\n      if (start < 1) {\r\n        start = 1\r\n      }\r\n      if (end > this.paginates) {\r\n        end = this.paginates\r\n      }\r\n      this.pages = []\r\n      for (let i = start; i <= end; i++) {\r\n        this.pages.push(i)\r\n      }\r\n      return this.pages\r\n    },\r\n    async fetchCompeteData(item) {\r\n      let blogs = [];\r\n      await Promise.all(item.map(item => \r\n        axios.get(item.image_link).then( response =>{\r\n          item.image = response.data.guid.rendered;\r\n        }).then(() =>{\r\n          axios.get(item.author_link).then( response =>{\r\n            item.author_name = response.data.name;\r\n          }).then(() =>{\r\n          axios.get(item.replies_link).then( response =>{\r\n            item.comment_count = response.data.length;\r\n          })\r\n          blogs.push(item);\r\n        })\r\n        })\r\n  \r\n      ));\r\n      this.bloglist = blogs;  \r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n\r\n<style>\r\n.disabled {\r\n  pointer-events: none;\r\n  background-color: lightgray;\r\n}\r\n\r\n.active-btn {\r\n  pointer-events: none;\r\n  background-color: #ececee;\r\n}\r\n</style>","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blog-list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blog-list.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./blog-list.vue?vue&type=template&id=343bddaf&\"\nimport script from \"./blog-list.vue?vue&type=script&lang=js&\"\nexport * from \"./blog-list.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./blog-list.vue?vue&type=style&index=0&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"a967aeec\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0EA;;AC5EA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}